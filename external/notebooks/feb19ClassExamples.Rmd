---
title: "feb19ClassExamples"
author: "Harrison Leduc"
date: "2024-02-19"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


February 19 In-class work.

(Data generation) - 
dat, a data.frame built from V1, V2, V3, and V4, where:
V1 = 1:20
V2 is a random sample between 1:100
V3 is drawn from a random uniform distribution between 0 and 50
V4 is a random selection of the letters A-E
(optional) Use set.seed(50)

In-Class:

Using an lapply, create an output list of 3 data.frames in which the first data.frame has it's V2 column multiplied by 5, the second data.frame has V2 multiplied by 10, and the third has V2 multipled by 20. Use dat as the starting data.frame.

Make a data.frame called dat2 that is a copy of dat. Update dat2 so that its V3 is set to 40 in the places where values > 40

```{r}
dat <- data.frame(
  V1 = 1:20,
  V2 = sample(1:100, 20, replace = TRUE),
  V3 = runif(20, 0, 50),
  V4 = sample(LETTERS[1:5], 20, replace = TRUE)
)

rm(l) #removes l from environment. Good process for testing errors in code

#l <- list()
l <- lapply(c(5, 10, 20), function(x) {
     dat$V2 <- dat$V2 * x
     #l[[i]] <- dat 
     # Doesn't like the single brackets but still works
     # double brackets remove the warnings
     # INSTEAD, JUST LEAVE IT AS dat. Also lets you not create an empty list B4
     dat
})
l

# Official solution -------
l1 <- lapply(c(5, 10, 20), function(x) {
  new_dat <- dat
  new_dat$V2 <- new_dat$V2 * x
  new_dat
})
l1

library(dplyr)
dat2 <- dat
dat2
# Below example only shows lines where the "> 40" occurs
dat2 %>% 
  filter(V3 > 40) %>% 
  mutate(V3 = 40)

# Using dplyr ----------
dat2 %>%
  mutate(V3 = ifelse(V3 > 40, 40, V3))

# Base solution -------
dat2[dat2$V3 > 40, "V3"] <- 40
dat2
```


